@page "/allClientDiets"
@using FitBalanceBlazor.Models
@inject HttpClient Http


<PageTitle>All clients diets</PageTitle>
<MudText Align="Align.Center" Typo="Typo.h1" Style="text-transform: uppercase;"><strong>wszystkie diety</strong></MudText>

<!-- Sekcja pojedyńczego elementu listy diet -->

<!--petla-->
@* <MudPaper Class="pa-3" Style="width:100%;background:rgb(223,243,156);border-radius: 20px;"> *@
@* *@
@*     <MudStack Row="true" Spacing="2" Justify="Justify.SpaceAround"> *@
@* *@
@*         <MudListItem> *@
@*             <MudText  Typo="Typo.h6" Style="text-transform: uppercase;"><strong>@diety.n</strong></MudText> *@
@*             <MudItem xs="6"><MudText Typo="Typo.h6" Style="text-transform: uppercase;"><strong>Śniadanie </strong></MudText></MudItem> *@
@*             <MudItem xs="6"><MudText Typo="Typo.h6" Style="text-transform: uppercase;"><strong>Obiad </strong></MudText></MudItem> *@
@*             <MudItem xs="6"><MudText Typo="Typo.h6" Style="text-transform: uppercase;"><strong>Kolacja</strong></MudText></MudItem> *@
@*         </MudListItem> *@
@* *@
@*     </MudStack> *@
@* </MudPaper> *@


@* <MudStack> *@
@*     @foreach (var d in diety) *@
@*     { *@
@*     <MudItem xs="6"><MudText Typo="Typo.h6" Style="text-transform: uppercase;"><strong>@d.nazwa </strong></MudText></MudItem> *@
@*     } *@
@* </MudStack> *@

<MudTable Items="@diety">
    <HeaderContent>
        @* <MudTh>Dopasowane diety</MudTh> *@
    </HeaderContent>
    <RowTemplate>
        <MudPaper Class="pa-3 my-4" Style="width:100%;background:rgb(223,243,156);border-radius: 20px;">
            <MudTd Style="text-transform: uppercase" DataLabel="Nazwa"><strong>@context.nazwa</strong></MudTd>
            
            <MudStack Row="true" Justify="Justify.SpaceAround">
                <MudText Typo="Typo.subtitle1" Style="text-transform: uppercase;"><strong>Śniadanie </strong></MudText>
                <MudText Typo="Typo.subtitle1" Style="text-transform: uppercase;"><strong>Obiad </strong></MudText>
                <MudText Typo="Typo.subtitle1" Style="text-transform: uppercase;"><strong>Kolacja</strong></MudText>
            </MudStack>

            <MudStack Row="true" Justify="Justify.SpaceAround">
                <div class="d-flex align-center">
                    <MudButton Variant="Variant.Filled" Style="width: 150px;background:rgb(255,152,107);border-radius: 20px;margin-right: 100px " Href="/changeDiet">Zmień</MudButton>
                    <MudButton Variant="Variant.Filled" Style="width: 150px;background:rgb(255,152,107);border-radius: 20px;margin-left: 100px">Usuń</MudButton>
                </div>
           </MudStack>
        </MudPaper>
    </RowTemplate>
</MudTable>


@* *@
@* <MudTable Items="@diety"> *@
@*     <HeaderContent> *@
@*         <MudTh>Id</MudTh> *@
@*         <MudTh>Nazwa</MudTh> *@
@*         <MudTh>Kaloryczność</MudTh> *@
@*     </HeaderContent> *@
@*     <RowTemplate> *@
@*         <MudTd DataLabel="Id">@context.id_dieta</MudTd> *@
@*         <MudTd DataLabel="Nazwa">@context.nazwa</MudTd> *@
@*         <MudTd DataLabel="Kalorycznosc">@context.kalorycznosc</MudTd> *@
@*     </RowTemplate> *@
@* </MudTable> *@



@code
{
    private List<Dieta> diety;

    protected override async Task OnInitializedAsync()
    {
        diety = await Http.GetFromJsonAsync<List<Dieta>>("api/Diet");
    }
    

}